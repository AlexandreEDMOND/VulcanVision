### **Description du Dataset : Ce que tu dois savoir pour ce projet**

Le **dataset** de cette compétition est conçu pour la tâche de **détection et segmentation des couches de papyrus** dans des **images 3D**, un défi essentiel pour aider à **dérouler virtuellement** les rouleaux anciens d'Herculanum et finalement récupérer les textes originaux. C'est un projet fascinant qui combine la **vision par ordinateur**, l'**intelligence artificielle**, et la **recherche historique**.

Voici les éléments clés du dataset et des fichiers que tu vas manipuler pendant cette compétition.

### **Structure du Dataset**

1. **Données d'Entrée (Images 3D)** :

   * **train_images/** et **test_images/** : Ces répertoires contiennent les **volumes 3D** des scans des rouleaux sous format **TIFF**. Chaque image représente une **sous-partie d'un volume 3D** plus grand.
   * Le **jeu d'entraînement** contient des volumes d'images 3D et leurs **masques de segmentation correspondants** (annotés dans le répertoire **train_labels/**).
   * Le **jeu de test** contient aussi des volumes d'images 3D, mais sans annotations. Le **jeu de test caché** sera utilisé pour évaluer ton modèle, et tu ne verras pas ces données avant que ton modèle ne soit évalué sur la plateforme Kaggle.

2. **Métadonnées** :

   * **train.csv** et **test.csv** : Ces fichiers contiennent des métadonnées sur chaque volume d'image.

     * **id** : Identifiant unique pour chaque volume.
     * **scroll_id** : Identifiant unique pour le rouleau d'origine. Les volumes dans l’entraînement ne couvrent qu’une **petite fraction** du rouleau complet, donc chaque rouleau peut avoir plusieurs volumes d’image.

3. **Masques de Segmentation** :

   * **train_labels/** : Ces fichiers sont des **masques de segmentation** où chaque voxel (pixel 3D) est étiqueté comme :

     * **0** = Fond (Background)
     * **1** = Première couche de papyrus (Foreground)
     * **2** = Non étiqueté (Unlabeled) — généralement pour des zones sans annotations précises.
   * Ces masques permettent d'entraîner ton modèle de segmentation à reconnaître la surface du papyrus dans les volumes 3D.

### **Détails supplémentaires**

* **Volume 3D** : Les images sont en **3D**, ce qui signifie que tu travailles avec des **voxels** (volumes de pixels) plutôt qu'avec des pixels traditionnels comme dans les images 2D. Tu dois donc gérer des **données volumétriques** (3D) lors de l'entraînement de ton modèle.

* **Masques partiels** : Les masques d'annotations ne couvrent souvent qu'une **sous-partie** du volume 3D. Il est donc possible que certaines zones de l'image ne soient pas annotées ou marquées comme "non étiquetées".

* **Données non annotées** : Le **jeu de test** ne contient pas d'annotations. Tu devras prédire les masques de segmentation pour ces volumes sans savoir ce qu'il y a dans la vérité terrain.

### **Données Supplémentaires**

La **Vesuvius Challenge team** a mis à disposition d'autres **données additionnelles** sur leur site, ce qui pourrait t’aider dans des tâches comme l'**apprentissage non supervisé** ou l'amélioration de ton modèle. Ces données peuvent inclure des annotations supplémentaires, des volumes de plus grande taille, ou d'autres scans de rouleaux.

### **Objectif du Projet**

L'objectif de la compétition est donc de créer un modèle capable de détecter et segmenter avec précision les différentes **couches de papyrus** (principalement la **surface recto** du rouleau) dans les scans 3D.

* **Détection des surfaces** : L'objectif ultime est de permettre le **déroulage virtuel** du papyrus, en identifiant précisément les couches de papyrus dans les images 3D.

* **Segmentation précise** : Il est important de segmenter correctement chaque **feuille** de papyrus et de la différencier des autres parties du volume, tout en respectant la structure topologique.

### **Défis Principaux**

1. **Manipulation des données volumétriques 3D** : Contrairement à des images classiques, tu dois gérer des **images 3D** où chaque image représente un **sous-volume** d’un rouleau complet. Cela implique une gestion plus complexe des données et de l'espace mémoire.

2. **Sur-segmentation et sous-segmentation** : Il est essentiel de **séparer correctement les couches** du papyrus. La sur-segmentation (diviser une couche en plusieurs morceaux) et la sous-segmentation (fusionner plusieurs couches en une seule) doivent être évitées pour obtenir de bons résultats.

3. **Adaptation aux variations de forme** : Les couches de papyrus peuvent être endommagées, pliées ou déformées, ce qui rend la segmentation particulièrement difficile. L'objectif est de détecter des formes qui peuvent être très différentes les unes des autres tout en conservant une certaine cohérence.

### **Soumission du Modèle**

Une fois que ton modèle est prêt, tu devras **soumettre des masques de segmentation** au format **TIFF** pour chaque image de test. Ces masques doivent avoir les mêmes dimensions que les images originales et utiliser le même type de données que les masques d'entraînement (par exemple, des entiers pour représenter les classes : 0, 1, 2).

### **Résumé des Étapes pour ton Modèle**

1. **Prétraitement des données** :

   * Lis et explore les images 3D dans les répertoires **train_images/** et **test_images/**.
   * Vérifie les dimensions des images et leur forme pour t’assurer qu’elles sont compatibles avec ton modèle.

2. **Modèle de segmentation** :

   * Utilise un modèle de segmentation volumétrique comme un **UNet 3D** ou une architecture similaire qui peut travailler avec des données en 3D.
   * Entraîne ton modèle avec les **masques de segmentation** du répertoire **train_labels/**.

3. **Validation et tests** :

   * Évalue ton modèle sur un ensemble de validation pour t’assurer qu’il ne sur-segmente pas et qu’il ne fait pas de fusions incorrectes entre les différentes couches du papyrus.
   * Teste ton modèle sur le **jeu de test** et soumets les résultats sous forme de masques.

4. **Optimisation** :

   * Améliore ton modèle en ajustant l’architecture, les hyperparamètres, ou en ajoutant des techniques d’augmentation de données (rotation, translation, etc.) pour augmenter la robustesse du modèle.

### **Points Clés pour la Réussite du Modèle**

* **Gestion de la topologie** : Comme dans les autres parties du projet, il est crucial d'éviter des erreurs topologiques comme des fusions incorrectes ou des divisions artificielles.
* **Utilisation d’annotations supplémentaires** : Les données supplémentaires mises à disposition par la Vesuvius Challenge Team peuvent améliorer la précision de ton modèle.
* **Précision des bords** : Étant donné que l'objectif est de dérouler les rouleaux, la précision des bords est primordiale pour permettre une meilleure détection des couches.

Si tu as besoin de plus de détails sur l'implémentation d'un modèle de segmentation 3D ou si tu veux de l'aide pour analyser les données, n'hésite pas à demander !
